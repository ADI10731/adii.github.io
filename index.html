<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DCET 2026 Rank & College Predictor</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.7);
            --accent: #3b82f6;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--bg-color);
            background-image: 
                radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(16, 185, 129, 0.15) 0px, transparent 50%);
            color: var(--text-main);
            min-height: 100vh;
            margin: 0;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 500px;
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 2.5rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            margin-bottom: 30px;
        }

        h1 {
            text-align: center;
            font-weight: 900;
            font-size: 2rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, #60a5fa, #34d399);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        p.subtitle {
            text-align: center;
            color: var(--text-muted);
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }

        /* Inputs */
        .input-group {
            margin-bottom: 1.5rem;
            position: relative;
        }

        label {
            display: block;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
            margin-left: 4px;
        }

        input {
            width: 100%;
            background: rgba(15, 23, 42, 0.6);
            border: 2px solid rgba(255, 255, 255, 0.1);
            color: white;
            padding: 16px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-family: 'Outfit', sans-serif;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
        }

        .swap-icon {
            text-align: center;
            color: var(--text-muted);
            font-size: 1.2rem;
            margin: -10px 0 10px 0;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .swap-icon:hover { transform: rotate(180deg); color: var(--accent); }

        button {
            width: 100%;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.4);
        }

        /* Rank Result Card */
        #rank-card {
            display: none;
            text-align: center;
            margin-top: 2rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.05);
            animation: fadeIn 0.5s ease;
        }

        .rank-value {
            font-size: 3.5rem;
            font-weight: 900;
            line-height: 1;
            margin: 10px 0;
            color: white;
            text-shadow: 0 0 30px rgba(255,255,255,0.2);
        }

        .rank-label {
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 700;
        }

        .score-details {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .score-details span b { color: var(--success); }

        /* College Predictor Section */
        #college-results {
            display: none;
            width: 100%;
            max-width: 1000px;
            margin-top: 20px;
            animation: slideUp 0.7s ease;
        }

        .college-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .branch-column {
            background: var(--card-bg);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .branch-header {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cse-header { color: #60a5fa; }
        .aiml-header { color: #f472b6; }
        .ec-header { color: #fbbf24; }

        .college-item {
            background: rgba(255,255,255,0.03);
            margin-bottom: 10px;
            padding: 12px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 3px solid transparent;
            transition: background 0.2s;
        }
        
        .college-item:hover { background: rgba(255,255,255,0.06); }

        .college-item.safe { border-left-color: var(--success); }
        .college-item.moderate { border-left-color: var(--warning); }
        .college-item.ambitious { border-left-color: var(--danger); opacity: 0.6; }

        .clg-name { font-weight: 500; font-size: 0.95rem; }
        .clg-cutoff { font-size: 0.8rem; color: var(--text-muted); text-align: right;}

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    </style>
</head>
<body>

<div class="container">
    <h1>DCET Predictor</h1>
    <p class="subtitle">Rank Calculation (C-20 Scheme) + College Allotment</p>

    <div class="input-group">
        <label>Diploma CGPA</label>
        <input type="number" id="cgpa" placeholder="e.g. 9.75" step="0.01" oninput="toPercent()">
    </div>

    <div class="swap-icon">â‡…</div>

    <div class="input-group">
        <label>Diploma Percentage (%)</label>
        <input type="number" id="percent" placeholder="e.g. 90.00" step="0.01" oninput="toCgpa()">
    </div>

    <div class="input-group" style="margin-top: 25px;">
        <label>Expected DCET Marks (Out of 100)</label>
        <input type="number" id="marks" placeholder="e.g. 85" step="1">
    </div>

    <button onclick="predictResult()">Predict My Future</button>

    <div id="rank-card">
        <div class="rank-label">ESTIMATED RANK</div>
        <div class="rank-value" id="rank-display">---</div>
        <div class="score-details">
            <span>Merit Score: <b id="merit-score">0.00</b></span>
        </div>
    </div>
</div>

<div id="college-results">
    <h3 style="text-align:center; margin-bottom:20px; font-weight:300;">Likely Colleges based on 2025 Cutoffs</h3>
    <div class="college-grid">
        
        <div class="branch-column">
            <div class="branch-header cse-header">
                <span>ðŸ’»</span> CSE
            </div>
            <div id="list-cse"></div>
        </div>

        <div class="branch-column">
            <div class="branch-header aiml-header">
                <span>ðŸ¤–</span> AIML / AIDS
            </div>
            <div id="list-aiml"></div>
        </div>

        <div class="branch-column">
            <div class="branch-header ec-header">
                <span>ðŸ“¡</span> E & C
            </div>
            <div id="list-ec"></div>
        </div>

    </div>
</div>

<script>
    // --- 1. COLLEGE DATABASE (Extracted from 2025 Cutoff PDF) ---
    // Cutoffs are approximate General Merit (GM) / RK limits based on the file.
    const collegeData = [
        { name: "RV College of Engineering (RVCE)", code: "E005", cse: 120, aiml: 180, ec: 450 },
        { name: "BMS College of Engineering (BMSCE)", code: "E003", cse: 450, aiml: 600, ec: 1200 },
        { name: "PES University (Ring Road)", code: "E009", cse: 600, aiml: 850, ec: 2200 },
        { name: "MS Ramaiah (MSRIT)", code: "E006", cse: 550, aiml: 1100, ec: 1500 },
        { name: "UVCE Bangalore", code: "E001", cse: 800, aiml: 1000, ec: 2200 },
        { name: "Bangalore Inst. of Tech (BIT)", code: "E008", cse: 1800, aiml: 2800, ec: 5500 },
        { name: "Dayananda Sagar (DSCE)", code: "E007", cse: 2100, aiml: 2900, ec: 4800 },
        { name: "Sir M. Visvesvaraya (Sir MVIT)", code: "E012", cse: 4000, aiml: 5000, ec: 7500 },
        { name: "SJCE Mysore (JSS)", code: "E021", cse: 1000, aiml: 1500, ec: 3000 },
        { name: "NIE Mysore", code: "E022", cse: 1500, aiml: 2000, ec: 3500 },
        { name: "RNSIT", code: "E000", cse: 5000, aiml: 6000, ec: 9000 }, // Estimated
        { name: "JSS Ate (Bangalore)", code: "E000", cse: 6500, aiml: 7500, ec: 11000 } // Estimated
    ];

    // --- 2. RANK LOGIC (Your CSV Data) ---
    const rankRanges = [
        { min: 91.8, rank: 5 },
        { min: 90.6, rank: 15 },
        { min: 89.98, rank: 25 },
        { min: 89.5, rank: 35 },
        { min: 89.1, rank: 45 },
        { min: 88.3, rank: 65 },
        { min: 87.8, rank: 85 },
        { min: 87.6, rank: 95 },
        { min: 86.9, rank: 115 },
        { min: 86.5, rank: 140 },
        { min: 85.5, rank: 190 },
        { min: 84.6, rank: 225 },
        { min: 84.0, rank: 275 },
        { min: 82.7, rank: 375 },
        { min: 81.5, rank: 475 },
        { min: 79.6, rank: 650 },
        { min: 77.6, rank: 875 },
        { min: 75.6, rank: 1125 },
        { min: 72.5, rank: 1625 },
        { min: 67.9, rank: 2500 },
        { min: 64.95, rank: 3500 },
        { min: 60.2, rank: 5500 },
        { min: 53.5, rank: 9000 },
        { min: 0, rank: 12000 }
    ];

    // --- 3. CONVERSION ---
    function toPercent() {
        let val = parseFloat(document.getElementById('cgpa').value);
        if(!isNaN(val)) document.getElementById('percent').value = ((val * 10) - 7.5).toFixed(2);
    }
    function toCgpa() {
        let val = parseFloat(document.getElementById('percent').value);
        if(!isNaN(val)) document.getElementById('cgpa').value = ((val + 7.5) / 10).toFixed(2);
    }

    // --- 4. PREDICTION ---
    function predictResult() {
        let percent = parseFloat(document.getElementById('percent').value);
        let marks = parseFloat(document.getElementById('marks').value);

        if(isNaN(percent) || isNaN(marks)) { alert("Enter valid details!"); return; }
        if(percent > 100 || marks > 100) { alert("Values cannot exceed 100"); return; }

        // Merit Calculation
        let merit = (percent / 2) + (marks / 2);
        
        // Rank Estimation
        let predictedRank = 15000; // Default low
        for(let r of rankRanges) {
            if(merit >= r.min) {
                predictedRank = r.rank;
                break;
            }
        }

        // Update Rank Card
        document.getElementById('rank-display').innerText = predictedRank <= 10 ? `Top ${predictedRank}` : `~${predictedRank}`;
        document.getElementById('merit-score').innerText = merit.toFixed(2);
        document.getElementById('rank-card').style.display = 'block';

        // Run College Predictor
        renderColleges(predictedRank);
    }

    function renderColleges(rank) {
        let cseHTML = "", aimlHTML = "", ecHTML = "";

        collegeData.forEach(clg => {
            cseHTML += getCard(clg.name, clg.cse, rank);
            aimlHTML += getCard(clg.name, clg.aiml, rank);
            ecHTML += getCard(clg.name, clg.ec, rank);
        });

        document.getElementById('list-cse').innerHTML = cseHTML;
        document.getElementById('list-aiml').innerHTML = aimlHTML;
        document.getElementById('list-ec').innerHTML = ecHTML;
        document.getElementById('college-results').style.display = 'block';
    }

    function getCard(name, cutoff, rank) {
        // Logic: 
        // Safe: Rank is well within cutoff (e.g. Rank 100, Cutoff 200)
        // Moderate: Rank is close to cutoff (e.g. Rank 190, Cutoff 200)
        // Ambitious: Rank is slightly above cutoff (e.g. Rank 210, Cutoff 200)
        
        let status = "";
        let statusClass = "";
        
        if (rank <= cutoff * 0.8) {
            status = "High Chance";
            statusClass = "safe";
        } else if (rank <= cutoff) {
            status = "Likely";
            statusClass = "moderate";
        } else if (rank <= cutoff * 1.15) {
            status = "Borderline";
            statusClass = "ambitious";
        } else {
            return ""; // Don't show if chance is too low
        }

        return `
            <div class="college-item ${statusClass}">
                <div class="clg-name">${name}</div>
                <div class="clg-cutoff">
                    <div>Cutoff: ${cutoff}</div>
                    <div style="font-weight:bold; color:${statusClass === 'safe' ? '#10b981' : (statusClass === 'moderate' ? '#f59e0b' : '#ef4444')}">${status}</div>
                </div>
            </div>
        `;
    }
</script>

</body>
</html>
